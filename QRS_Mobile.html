<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Russian Stack Mobile</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/build/three.min.js"></script>
    <style>
        /* ... (все стили остаются без изменений) ... */
    </style>
</head>
<body>
    <!-- ... (HTML-структура без изменений) ... -->

    <script>
        // Инициализация графиков
        const realTimeCtx = document.getElementById('real-time-chart').getContext('2d');
        const quantumStateCtx = document.getElementById('quantum-state-chart').getContext('2d');
        const moleculeEnergyCtx = document.getElementById('molecule-energy-chart').getContext('2d');

        // График производительности
        const realTimeChart = new Chart(realTimeCtx, {
            type: 'line',
            data: {
                labels: Array(10).fill(''),
                datasets: [
                    {
                        label: 'Ошибка кубитов (x1000)',
                        data: Array(10).fill(0),
                        borderColor: '#ff3b30',
                        backgroundColor: 'rgba(255, 59, 48, 0.1)',
                        borderWidth: 2,
                        tension: 0.3,
                        fill: true
                    },
                    {
                        label: 'Скорость эмуляции (q/сек)',
                        data: Array(10).fill(0),
                        borderColor: '#34c759',
                        backgroundColor: 'rgba(52, 199, 89, 0.1)',
                        borderWidth: 2,
                        tension: 0.3,
                        fill: true
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                        labels: {
                            color: '#ffffff'
                        }
                    }
                },
                scales: {
                    x: {
                        grid: {
                            color: 'rgba(255,255,255,0.1)'
                        },
                        ticks: {
                            color: '#aaaaaa'
                        }
                    },
                    y: {
                        grid: {
                            color: 'rgba(255,255,255,0.1)'
                        },
                        ticks: {
                            color: '#aaaaaa'
                        },
                        beginAtZero: true
                    }
                }
            }
        });

        // Круговая диаграмма квантового состояния
        const quantumStateChart = new Chart(quantumStateCtx, {
            type: 'doughnut',
            data: {
                labels: ['Запутанность', 'Суперпозиция', 'Шум'],
                datasets: [{
                    data: [45, 35, 20],
                    backgroundColor: [
                        '#007aff',
                        '#5856d6',
                        '#ff2d55'
                    ],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'right',
                        labels: {
                            color: '#ffffff'
                        }
                    }
                },
                cutout: '70%'
            }
        });

        // График энергии молекулы
        const moleculeEnergyChart = new Chart(moleculeEnergyCtx, {
            type: 'bar',
            data: {
                labels: ['FCI', 'VQE', 'HF'],
                datasets: [{
                    label: 'Энергия (Ha)',
                    data: [0, 0, 0],
                    backgroundColor: [
                        '#007aff',
                        '#34c759',
                        '#ff9500'
                    ],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    }
                },
                scales: {
                    x: {
                        grid: {
                            color: 'rgba(255,255,255,0.1)'
                        },
                        ticks: {
                            color: '#ffffff'
                        }
                    },
                    y: {
                        grid: {
                            color: 'rgba(255,255,255,0.1)'
                        },
                        ticks: {
                            color: '#ffffff'
                        }
                    }
                }
            }
        });

        // 3D визуализация квантового состояния
        let scene, camera, renderer, sphere;
        function initQuantumVisualization() {
            const container = document.getElementById('quantum-visualization');
            const width = container.clientWidth;
            const height = container.clientHeight;

            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);
            camera.position.z = 5;
            
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(width, height);
            container.appendChild(renderer.domElement);
            
            const geometry = new THREE.SphereGeometry(1, 32, 32);
            const material = new THREE.MeshBasicMaterial({ 
                color: 0x007aff,
                wireframe: true,
                transparent: true,
                opacity: 0.8
            });
            sphere = new THREE.Mesh(geometry, material);
            scene.add(sphere);
            
            function animate() {
                requestAnimationFrame(animate);
                sphere.rotation.x += 0.005;
                sphere.rotation.y += 0.01;
                renderer.render(scene, camera);
            }
            animate();
            
            window.addEventListener('resize', () => {
                const width = container.clientWidth;
                const height = container.clientHeight;
                camera.aspect = width / height;
                camera.updateProjectionMatrix();
                renderer.setSize(width, height);
            });
        }

        // Инициализация 3D визуализации
        initQuantumVisualization();

        // Обновление времени
        function updateClock() {
            const now = new Date();
            document.getElementById('current-time').textContent = 
                now.toLocaleTimeString('ru-RU', {hour12: false});
        }
        setInterval(updateClock, 1000);
        updateClock();

        // Локальная эмуляция данных (замена Socket.IO)
        function generateFakeData() {
            return {
                system: {
                    cpu_usage: Math.random() * 100,
                    memory_usage: 30 + Math.random() * 50,
                    temperature: 40 + Math.random() * 40,
                },
                quantum: {
                    qubit_error: Math.random() * 0.001,
                    gate_fidelity: 0.999 - Math.random() * 0.0005,
                    state_entropy: Math.random(),
                    emulation_speed: 1000 + Math.random() * 5000,
                },
                security: {
                    last_key_rotation: new Date(),
                    key_rotation_interval: 3600,
                },
                timestamp: new Date(),
            };
        }

        // Обновление данных каждую секунду
        setInterval(() => {
            const data = generateFakeData();
            
            // Системные метрики
            document.getElementById('cpu-usage-text').textContent = `${data.system.cpu_usage.toFixed(1)}%`;
            document.getElementById('cpu-usage').style.width = `${data.system.cpu_usage}%`;
            
            document.getElementById('memory-usage-text').textContent = `${data.system.memory_usage.toFixed(1)}%`;
            document.getElementById('memory-usage').style.width = `${data.system.memory_usage}%`;
            
            document.getElementById('cpu-temp-text').textContent = `${data.system.temperature.toFixed(1)}°C`;
            const tempWidth = Math.min(100, data.system.temperature);
            document.getElementById('cpu-temp').style.width = `${tempWidth}%`;
            
            // Цвет индикатора температуры
            const tempBar = document.getElementById('cpu-temp');
            if (data.system.temperature > 80) {
                tempBar.style.background = '#ff3b30';
            } else if (data.system.temperature > 60) {
                tempBar.style.background = '#ff9500';
            } else {
                tempBar.style.background = '#34c759';
            }

            // Квантовые метрики
            document.getElementById('qubit-error-value').textContent = data.quantum.qubit_error.toFixed(6);
            document.getElementById('gate-fidelity-value').textContent = data.quantum.gate_fidelity.toFixed(4);
            document.getElementById('state-entropy-value').textContent = data.quantum.state_entropy.toFixed(2);
            document.getElementById('state-entropy-bar').style.width = `${data.quantum.state_entropy * 100}%`;
            
            // Скорость эмуляции
            const speed = (data.quantum.emulation_speed || 0).toFixed(0);
            document.getElementById('emulation-speed').textContent = `${speed} q/сек`;
            
            // Обновление графиков
            const timeLabel = new Date(data.timestamp).toLocaleTimeString('ru-RU', {hour12: false});
            
            realTimeChart.data.labels.push(timeLabel);
            if (realTimeChart.data.labels.length > 10) realTimeChart.data.labels.shift();
            
            realTimeChart.data.datasets[0].data.push(data.quantum.qubit_error * 1000);
            if (realTimeChart.data.datasets[0].data.length > 10) realTimeChart.data.datasets[0].data.shift();
            
            realTimeChart.data.datasets[1].data.push(data.quantum.emulation_speed || 0);
            if (realTimeChart.data.datasets[1].data.length > 10) realTimeChart.data.datasets[1].data.shift();
            
            realTimeChart.update();
            
            quantumStateChart.data.datasets[0].data = [
                data.quantum.state_entropy * 70,
                (1 - data.quantum.state_entropy) * 70,
                data.quantum.qubit_error * 1000
            ];
            quantumStateChart.update();
            
            // Безопасность
            const rotationTime = new Date(data.security.last_key_rotation);
            document.getElementById('key-rotation-time').textContent = 
                rotationTime.toLocaleTimeString('ru-RU', {hour12: false});
            
            const nextRotation = new Date(rotationTime);
            nextRotation.setSeconds(nextRotation.getSeconds() + data.security.key_rotation_interval);
            const timeLeft = Math.max(0, Math.floor((nextRotation - new Date()) / 1000));
            
            const hours = Math.floor(timeLeft / 3600);
            const minutes = Math.floor((timeLeft % 3600) / 60);
            const seconds = timeLeft % 60;
            
            document.getElementById('key-expiration').textContent = 
                `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            if (timeLeft < 300) {
                document.getElementById('key-expiration').classList.add('blink');
                document.getElementById('key-expiration').style.color = '#ff3b30';
            } else {
                document.getElementById('key-expiration').classList.remove('blink');
                document.getElementById('key-expiration').style.color = '';
            }
        }, 1000);

        // Молекулярные данные
        const molecules = {
            'h2': {
                name: 'Молекула водорода',
                formula: 'H₂',
                geometry: [
                    ["H", [0.0, 0.0, 0.0]],
                    ["H", [0.0, 0.0, 0.74]]
                ],
                charge: 0,
                multiplicity: 1,
                energies: {
                    'fci': -1.1175,
                    'vqe': -1.1165,
                    'hf': -1.0665
                }
            },
            'h2o': {
                name: 'Вода',
                formula: 'H₂O',
                geometry: [
                    ["O", [0.0, 0.0, 0.0]],
                    ["H", [0.957, 0.0, 0.0]],
                    ["H", [-0.24, 0.927, 0.0]]
                ],
                charge: 0,
                multiplicity: 1,
                energies: {
                    'fci': -76.2419,
                    'vqe': -76.2398,
                    'hf': -76.0268
                }
            },
            'co2': {
                name: 'Диоксид углерода',
                formula: 'CO₂',
                geometry: [
                    ["C", [0.0, 0.0, 0.0]],
                    ["O", [0.0, 0.0, 1.16]],
                    ["O", [0.0, 0.0, -1.16]]
                ],
                charge: 0,
                multiplicity: 1,
                energies: {
                    'fci': -187.998,
                    'vqe': -187.995,
                    'hf': -187.654
                }
            },
            'ch4': {
                name: 'Метан',
                formula: 'CH₄',
                geometry: [
                    ["C", [0.0, 0.0, 0.0]],
                    ["H", [0.629, 0.629, 0.629]],
                    ["H", [-0.629, -0.629, 0.629]],
                    ["H", [-0.629, 0.629, -0.629]],
                    ["H", [0.629, -0.629, -0.629]]
                ],
                charge: 0,
                multiplicity: 1,
                energies: {
                    'fci': -40.208,
                    'vqe': -40.205,
                    'hf': -40.198
                }
            },
            'c6h6': {
                name: 'Бензол',
                formula: 'C₆H₆',
                geometry: [
                    ["C", [0.000, 1.396, 0.000]],
                    ["C", [1.209, 0.698, 0.000]],
                    ["C", [1.209, -0.698, 0.000]],
                    ["C", [0.000, -1.396, 0.000]],
                    ["C", [-1.209, -0.698, 0.000]],
                    ["C", [-1.209, 0.698, 0.000]],
                    ["H", [0.000, 2.479, 0.000]],
                    ["H", [2.147, 1.240, 0.000]],
                    ["H", [2.147, -1.240, 0.000]],
                    ["H", [0.000, -2.479, 0.000]],
                    ["H", [-2.147, -1.240, 0.000]],
                    ["H", [-2.147, 1.240, 0.000]]
                ],
                charge: 0,
                multiplicity: 1,
                energies: {
                    'fci': -230.722,
                    'vqe': -230.718,
                    'hf': -230.528
                }
            }
        };

        // Загрузка молекулы (исправленная версия)
        function loadMolecule() {
            const moleculeId = document.getElementById('molecule-select').value;
            if (!moleculeId) return;
            
            const molecule = molecules[moleculeId];
            document.getElementById('molecule-viewer').innerHTML = `
                <div style="text-align: center;">
                    <div style="font-size: 24px; margin-bottom: 10px;">${molecule.formula}</div>
                    <div>${molecule.name}</div>
                </div>
            `;
            
            // Обновляем график энергий
            moleculeEnergyChart.data.datasets[0].data = [
                molecule.energies.fci,
                molecule.energies.vqe,
                molecule.energies.hf
            ];
            moleculeEnergyChart.update();
            
            document.getElementById('ground-state-energy').textContent = molecule.energies.fci.toFixed(4) + ' Ha';
            document.getElementById('vqe-accuracy').textContent = 
                (1 - Math.abs(molecule.energies.vqe - molecule.energies.fci) / Math.abs(molecule.energies.fci) * 100).toFixed(2) + '%';
        }

        // Расчет основного состояния
        function calculateGroundState() {
            const moleculeId = document.getElementById('molecule-select').value;
            if (!moleculeId) {
                showNotification('Выберите молекулу', 'error');
                return;
            }
            
            showNotification('Расчет основного состояния запущен', 'info');
            
            // Эмуляция расчета
            setTimeout(() => {
                showNotification('Расчет основного состояния завершен', 'success');
            }, 2000);
        }

        // Запуск VQE
        function runVQE() {
            const moleculeId = document.getElementById('molecule-select').value;
            if (!moleculeId) {
                showNotification('Выберите молекулу', 'error');
                return;
            }
            
            showNotification('Запуск VQE для молекулы', 'info');
            
            // Эмуляция расчета
            setTimeout(() => {
                showNotification('VQE расчет завершен', 'success');
                
                // Добавляем в историю расчетов
                const molecule = molecules[moleculeId];
                const basis = document.getElementById('basis-set-select').value;
                
                const historyItem = document.createElement('div');
                historyItem.className = 'task-item';
                historyItem.innerHTML = `
                    <div class="task-info">
                        <span class="task-name">${molecule.formula} (${basis})</span>
                        <span class="task-desc">Энергия: ${molecule.energies.vqe.toFixed(4)} Ha</span>
                    </div>
                `;
                
                document.getElementById('calculation-history').prepend(historyItem);
            }, 3000);
        }

        // Чат с ИИ
        function sendMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            if (!message) return;
            
            addMessage(message, 'user');
            input.value = '';
            
            // Эмуляция ответа ИИ
            setTimeout(() => {
                const responses = [
                    `Я проанализировал ваш запрос о "${message}". Рекомендую проверить параметры квантовой схемы.`,
                    `На основе вашего вопроса "${message}", вот что я могу предложить: попробуйте увеличить количество слоев в вашей параметризованной квантовой схеме. Это может улучшить точность вычислений.`,
                    `Для решения вопроса "${message}" рекомендую использовать алгоритм VQE с ansatz типа UCCSD.`,
                    `Ваш запрос "${message}" требует дополнительной информации. Уточните, какие именно параметры вас интересуют?`
                ];
                
                const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                addMessage(randomResponse, 'ai');
            }, 1000);
        }

        function sendQuickMessage(message) {
            document.getElementById('chat-input').value = message;
            sendMessage();
        }

        function addMessage(text, sender) {
            const messagesContainer = document.getElementById('chat-messages');
            const messageElement = document.createElement('div');
            messageElement.className = `message ${sender}-message`;
            messageElement.textContent = text;
            messagesContainer.appendChild(messageElement);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function clearChat() {
            document.getElementById('chat-messages').innerHTML = `
                <div class="message ai-message">
                    Здравствуйте! Я ваш квантовый ИИ ассистент. Чем могу помочь?
                </div>
            `;
        }

        function saveChat() {
            showNotification('Чат сохранен', 'success');
        }

        // Управление задачами
        function showTaskModal() {
            document.getElementById('task-modal').style.display = 'block';
        }
        
        function hideTaskModal() {
            document.getElementById('task-modal').style.display = 'none';
        }
        
        function addNewTask() {
            const name = document.getElementById('task-name').value;
            const description = document.getElementById('task-description').value;
            const params = document.getElementById('task-params-json').value;
            const mode = document.getElementById('task-mode').value;
            
            try {
                JSON.parse(params);
            } catch (e) {
                showNotification('Ошибка в формате параметров JSON', 'error');
                return;
            }
            
            if (!name) {
                showNotification('Введите название задачи', 'error');
                return;
            }
            
            const taskItem = document.createElement('div');
            taskItem.className = 'task-item';
            taskItem.innerHTML = `
                <div class="task-info">
                    <span class="task-name">${name}</span>
                    <span class="task-desc">${description}</span>
                    <span class="task-mode" style="font-size:10px;opacity:0.6">${mode === 'auto' ? 'ANI' : 'Ручной'}</span>
                </div>
                <button class="btn btn-sm" onclick="runCustomTask('${name}', ${params}, '${mode}')">
                    <i class="fas fa-play"></i>
                </button>
            `;
            
            document.getElementById('tasks-container').appendChild(taskItem);
            hideTaskModal();
            showNotification(`Задача "${name}" добавлена`, 'success');
        }
        
        function runTask(taskType) {
            showNotification(`Задача "${getTaskName(taskType)}" запущена`, 'info');
            
            // Эмуляция выполнения задачи
            setTimeout(() => {
                showNotification(`Задача "${getTaskName(taskType)}" завершена`, 'success');
            }, 2000);
        }
        
        function runCustomTask(name, params, mode) {
            showNotification(`Задача "${name}" запущена в ${mode === 'auto' ? 'автоматическом' : 'ручном'} режиме`, 'info');
            
            // Эмуляция выполнения задачи
            setTimeout(() => {
                showNotification(`Задача "${name}" завершена`, 'success');
            }, 2000);
        }
        
        function getTaskName(taskType) {
            const tasks = {
                'calibration': 'Калибровка кубитов',
                'shor': 'Тест алгоритма Шора',
                'qaoa': 'Оптимизация QAOA'
            };
            return tasks[taskType] || taskType;
        }

        // Управление молекулами
        function showMoleculeModal() {
            document.getElementById('molecule-modal').style.display = 'block';
        }
        
        function hideMoleculeModal() {
            document.getElementById('molecule-modal').style.display = 'none';
        }
        
        function addNewMolecule() {
            const name = document.getElementById('molecule-name').value;
            const formula = document.getElementById('molecule-formula').value;
            const geometry = document.getElementById('molecule-geometry').value;
            const charge = document.getElementById('molecule-charge').value;
            const multiplicity = document.getElementById('molecule-multiplicity').value;
            
            try {
                JSON.parse(geometry);
            } catch (e) {
                showNotification('Ошибка в формате геометрии JSON', 'error');
                return;
            }
            
            if (!name || !formula) {
                showNotification('Введите название и формулу молекулы', 'error');
                return;
            }
            
            showNotification(`Молекула "${formula}" добавлена`, 'success');
            hideMoleculeModal();
        }

        // Настройки системы
        function showSystemSettings() {
            document.getElementById('settings-modal').style.display = 'block';
        }
        
        function hideSystemSettings() {
            document.getElementById('settings-modal').style.display = 'none';
        }
        
        function saveSystemSettings() {
            const theme = document.getElementById('system-theme').value;
            const interval = document.getElementById('update-interval').value;
            const autoSave = document.getElementById('auto-save').checked;
            const aniMode = document.getElementById('ani-mode').value;
            
            // Применяем тему
            if (theme === 'light') {
                document.documentElement.style.setProperty('--nc-tx-1', '#000000');
                document.documentElement.style.setProperty('--nc-tx-2', '#111111');
                document.documentElement.style.setProperty('--nc-bg-1', '#ffffff');
                document.documentElement.style.setProperty('--nc-bg-2', '#eeeeee');
                document.documentElement.style.setProperty('--nc-bg-3', '#dddddd');
            } else if (theme === 'blue') {
                document.documentElement.style.setProperty('--nc-bg-1', '#0a192f');
                document.documentElement.style.setProperty('--nc-bg-2', '#172a45');
                document.documentElement.style.setProperty('--nc-bg-3', '#303f60');
            } else {
                // Сброс к темной теме
                document.documentElement.style.setProperty('--nc-tx-1', '#ffffff');
                document.documentElement.style.setProperty('--nc-tx-2', '#eeeeee');
                document.documentElement.style.setProperty('--nc-bg-1', '#1a1a1a');
                document.documentElement.style.setProperty('--nc-bg-2', '#2a2a2a');
                document.documentElement.style.setProperty('--nc-bg-3', '#3a3a3a');
            }
            
            showNotification('Настройки сохранены', 'success');
            hideSystemSettings();
        }

        // Управление вкладками
        function switchTab(tabId) {
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.querySelectorAll('[id$="-tab"]').forEach(tab => {
                tab.style.display = 'none';
            });
            
            event.target.classList.add('active');
            document.getElementById(`${tabId}-tab`).style.display = 'block';
        }

        // Уведомления
        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <div class="notification-icon">
                    ${type === 'success' ? '<i class="fas fa-check-circle"></i>' : 
                      type === 'error' ? '<i class="fas fa-exclamation-circle"></i>' : 
                      '<i class="fas fa-info-circle"></i>'}
                </div>
                <div class="notification-content">${message}</div>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.add('show');
            }, 10);
            
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // Инициализация при загрузке
        document.addEventListener('DOMContentLoaded', () => {
            // Обработчики событий
            document.getElementById('rotate-keys-btn').addEventListener('click', () => {
                const btn = document.getElementById('rotate-keys-btn');
                btn.disabled = true;
                btn.innerHTML = '<i class="fas fa-circle-notch fa-spin"></i> Ротация...';
                
                setTimeout(() => {
                    showNotification('Ключи успешно ротированы', 'success');
                    btn.disabled = false;
                    btn.innerHTML = '<i class="fas fa-sync-alt"></i> Ротация';
                }, 1000);
            });
            
            document.getElementById('noise-level-slider').addEventListener('input', (e) => {
                const value = e.target.value;
                document.getElementById('noise-level-value').textContent = `${value}%`;
            });
            
            document.getElementById('ai-autonomy-slider').addEventListener('input', (e) => {
                const levels = ['Низкий', 'Средний', 'Высокий'];
                document.getElementById('ai-autonomy-level').textContent = levels[e.target.value];
            });
            
            document.getElementById('ai-detail-slider').addEventListener('input', (e) => {
                const levels = ['Краткий', 'Средний', 'Подробный'];
                document.getElementById('ai-detail-level').textContent = levels[e.target.value];
            });
            
            document.getElementById('start-training-btn').addEventListener('click', () => {
                const btn = document.getElementById('start-training-btn');
                btn.disabled = true;
                btn.innerHTML = '<i class="fas fa-circle-notch fa-spin"></i> Обучение...';
                
                setTimeout(() => {
                    btn.disabled = false;
                    btn.innerHTML = '<i class="fas fa-play"></i> Обучение';
                    showNotification('Обучение завершено', 'success');
                }, 3000);
            });
            
            document.getElementById('emergency-stop-btn').addEventListener('click', () => {
                if (confirm('Вы уверены, что хотите выполнить аварийную остановку?')) {
                    showNotification('Аварийная остановка выполнена', 'error');
                }
            });
            
            document.getElementById('chat-input').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
        });
    </script>
</body>
</html>
